<section class="menu">
  <h1>Space Shooter</h1>

  <label>Dificultad</label>
  <div class="btns">
    <button
      [class.active]="difficulty()==='easy'"
      (click)="difficulty.set('easy')"
    >
      Fácil
    </button>
    <button
      [class.active]="difficulty()==='normal'"
      (click)="difficulty.set('normal')"
    >
      Normal
    </button>
    <button
      [class.active]="difficulty()==='hard'"
      (click)="difficulty.set('hard')"
    >
      Difícil
    </button>
  </div>

  <button class="primary" (click)="play()">Jugar</button>
  <a routerLink="/ranking">Top Ranking</a>
</section>

<section class="ranking-card">

  <div class="compact">
    <h3>Top {{ limit() }}</h3>
    <div class="top-controls">
      <input
        #n
        type="number"
        min="1"
        max="100"
        [value]="limit()"
        placeholder="Límite"
        (keyup.enter)="applyLimit(n.value)"
      />
      <button type="button" (click)="applyLimit(n.value)">Aplicar</button>
    </div>
  </div>
  <div class="table-wrap">
    @if (top(); as rows) {
    <table>
      <thead>
        <tr>
          <th>Alias</th>
          <th>Puntos</th>
          <th>Fecha</th>
        </tr>
      </thead>
      <tbody>
        @for (r of rows; track r.id) {
        <tr>
          <td>{{ r.alias }}</td>
          <td>{{ r.points }}</td>
          <td>{{ r.createdAt | date:'yyyy-MM-dd HH:mm' }}</td>
        </tr>
        }
      </tbody>
    </table>
    } @else {
    <p>Sin datos.</p>
    }
  </div>
</section>
